---
layout: post
title: "XODB简易数据修补工具使用说明"
categories: blog
author:
- Abiu


---

#### 功能和局限性

有时候，xodb自定义脚本任务可能会因为网络，接口过期，数据库连接中断等等问题导致数据遗漏。此时如果遗漏的数据时间跨度过长，将会受限于服务器性能，没法通过xodb将长时间跨度的数据一次性入库，强行通过任务入库可能会影响其他数据采集任务执行，遗漏数据量巨大时手动补数据非常耗时，需要工具按批次将遗漏的数据入库。

该工具局限性很明显：**必须有现成的xodb自定义脚本任务，在脚本中将数据采集并且整理为json数组形式**

**现在只支持mysql数据库**

### 如何使用

**在使用工具补数据前，应当在xodb中准备好入库的json数据。**

首先打开xodb，创建一个自定义脚本任务，选择**“****任务周期：只执行一次”**，从之前已有的同接口任务中，**把脚本复制过来**，然后在数据源脚本中，将**请求中的时间段参数改为想要拉取的时段**。相应转换脚本一般没有差异，符合xodb数据格式要求即可，编目同样没有要求，随便选择。

![](2022-10-13-XODB简易数据修补工具使用说明图片/image.png)

![](https://raw.githubusercontent.com/iamabiu/iamabiu.github.io/master/_pic/2022-10-13/image%20(1).png)



保存后点击测试脚本

![](https://raw.githubusercontent.com/iamabiu/iamabiu.github.io/master/_pic/2022-10-13/image%20(2).png)



点击复制按钮，将**content**的内容复制下来，作为待入库的数据

![](https://raw.githubusercontent.com/iamabiu/iamabiu.github.io/master/_pic/2022-10-13/image%20(3).png)



此时打开工具，将复制的内容粘贴到**“****xodb处理后json”**文本框内，其他信息自行填写，然后点击入库即可

![](https://raw.githubusercontent.com/iamabiu/iamabiu.github.io/master/_pic/2022-10-13/image%20(4).png)

![](https://raw.githubusercontent.com/iamabiu/iamabiu.github.io/master/_pic/2022-10-13/image%20(5).png)

![](https://raw.githubusercontent.com/iamabiu/iamabiu.github.io/master/_pic/2022-10-13/image%20(6).png)



入库成功

![](https://raw.githubusercontent.com/iamabiu/iamabiu.github.io/master/_pic/2022-10-13/image%20(7).png)

#### **更新方向**

添加插入语句执行间隔时间

添加oracle，sqlserver和其他数据库支持
